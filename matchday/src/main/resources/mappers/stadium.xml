<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- MyBatis 매퍼 정의 -->
<mapper namespace="kr.co.matchday.stadium.StadiumMapper">

    <!-- 경기장 정보를 데이터베이스에 삽입하는 쿼리 -->
    <insert id="insertStadium" parameterType="kr.co.matchday.stadium.StadiumDTO">
        <!-- 'stadiums' 테이블에 새 경기장 정보를 삽입 -->
        INSERT INTO stadiums (stadiumid, stadiumname, location, capacity, usagestatus, parkingspaces, stadiumimage, contactnumber)
        VALUES (#{stadiumId}, #{stadiumName}, #{location}, #{capacity}, #{usageStatus}, #{parkingSpaces}, #{stadiumImage}, #{contactNumber})
    </insert>

    <!-- 가장 높은 경기장 ID를 조회하는 쿼리 -->
    <select id="getMaxStadiumId" resultType="java.lang.String">
        <!-- 'stadiums' 테이블에서 최대 경기장 ID를 선택 -->
        SELECT MAX(stadiumid) FROM stadiums
    </select>

    <!-- 특정 경기장 ID에 대한 정보를 조회하는 쿼리 -->
    <select id="getStadiumById" parameterType="java.lang.String" resultType="java.lang.String">
        <!-- 주어진 경기장 ID에 해당하는 경기장 ID를 선택 -->
        SELECT stadiumid FROM stadiums WHERE stadiumid = #{stadiumId}
    </select>

    <!-- 모든 경기장 정보를 조회하는 쿼리 -->
    <select id="getAllStadiums" resultType="kr.co.matchday.stadium.StadiumDTO">
        <!-- 'stadiums' 테이블에서 모든 경기장 정보를 선택 -->
        SELECT stadiumid as stadiumId, stadiumname as stadiumName, location, capacity, usagestatus as usageStatus, parkingspaces as parkingSpaces, contactnumber as contactNumber
        FROM stadiums
    </select>

    <!-- 좌석 정보를 데이터베이스에 삽입하는 쿼리 -->
    <insert id="insertSeat">
        <!-- 'seats' 테이블에 새 좌석 정보를 삽입 -->
        INSERT INTO seats (seatid, stadiumid, section, seatnumber, price, seatstatus)
        VALUES (#{seatId}, #{stadiumId}, #{section}, #{seatNumber}, #{price}, #{seatStatus})
    </insert>

</mapper>
