<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="login">
    <select id="validateUser" parameterType="kr.co.matchday.login.LoginDTO" resultType="int">
        SELECT COUNT(*) 
        FROM Users 
        WHERE UserID = #{userID} AND Password = #{password}
    </select>
    
    <select id="getUserGrade" parameterType="String" resultType="String">
        SELECT grade FROM users WHERE userID = #{userID}
    </select>
    
    <!-- 이메일을 통해 사용자 ID를 찾는 SQL 쿼리 -->
    <select id="findIDByEmail" parameterType="String" resultType="String">
        SELECT userID
        FROM users
        WHERE email = #{email}
    </select>
    
     <!-- 사용자 ID와 이메일을 통해 비밀번호를 찾는 SQL 쿼리 -->
    <select id="findPasswordByIDAndEmail" parameterType="kr.co.matchday.login.LoginDTO" resultType="String">
        SELECT password
        FROM users
        WHERE userID = #{userID} AND email = #{email}
    </select>
</mapper>